# Jago

A simple Java interpreter written with Go language. This project is to learn JVM specification in depth and try to understand the
under-the-water mechanism when a Java program runs.

Basically, I only refer to "Java Virtual Machine Specification" and then compose how we should design one. 
I have to say many implementation details are naive and I make it as simplified as possible so as to
demonstrate the idea. For the educational purpose, it is enough.

# Roadmap

- Java class parser
- Interpreter
- Bridge JNI native method
- NO GC
- NO JIT
- NO multi-thread support

# Details

## trace classload and bytecode execution

```
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚§à Main
    ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
    ‚§à java/lang/Object
      ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
      ‚§à java/lang/Class
        ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
        ‚§à java/io/Serializable
        ‚§â java/io/Serializable
        ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
        ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
        ‚§à java/lang/reflect/GenericDeclaration
          ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
          ‚§à java/lang/reflect/AnnotatedElement
          ‚§â java/lang/reflect/AnnotatedElement
          ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
        ‚§â java/lang/reflect/GenericDeclaration
        ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
        ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
        ‚§à java/lang/reflect/Type
        ‚§â java/lang/reflect/Type
        ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
      ‚§â java/lang/Class
      ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
    ‚§â java/lang/Object
    ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚§â Main
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
‚§Æ java/lang/Object.<clinit>()V
   0000 ‚û¢ invokestatic
üç∫invoke native method java/lang/Object#registerNatives()V üòé

   0003 ‚û¢ return
‚§Æ Main.<clinit>()V
   0000 ‚û¢ iconst_2
   0001 ‚û¢ putstatic
   0004 ‚û¢ return
‚§Æ Main.main([Ljava/lang/String;)V
   0000 ‚û¢ iconst_2
   0001 ‚û¢ istore_1
   0002 ‚û¢ iconst_2
   0003 ‚û¢ istore_2
   0004 ‚û¢ iload_1
   0005 ‚û¢ iload_2
   0006 ‚û¢ iadd
   0007 ‚û¢ istore_3
   0008 ‚û¢ iload_3
   0009 ‚û¢ invokestatic
‚§Æ Main.increase(I)I
   0000 ‚û¢ iload_0
   0001 ‚û¢ iconst_1
   0002 ‚û¢ iadd
   0003 ‚û¢ ireturn
‚§Æ Main.main([Ljava/lang/String;)V
   0012 ‚û¢ istore
   0014 ‚û¢ newObject
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚§à B
    ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
    ‚§à A
    ‚§â A
    ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚§â B
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
   0017 ‚û¢ dup
   0018 ‚û¢ invokespecial
‚§Æ B.<init>()V
   0000 ‚û¢ aload_0
   0001 ‚û¢ invokespecial
‚§Æ A.<init>()V
   0000 ‚û¢ aload_0
   0001 ‚û¢ invokespecial
‚§Æ java/lang/Object.<init>()V
   0000 ‚û¢ return
‚§Æ A.<init>()V
   0004 ‚û¢ return
‚§Æ B.<init>()V
   0004 ‚û¢ return
‚§Æ Main.main([Ljava/lang/String;)V
   0021 ‚û¢ astore
   0023 ‚û¢ iconst_1
   0024 ‚û¢ putstatic
   0027 ‚û¢ aload
   0029 ‚û¢ iconst_2
   0030 ‚û¢ putfield
   0033 ‚û¢ aload
   0035 ‚û¢ iconst_3
   0036 ‚û¢ putfield
   0039 ‚û¢ aload
   0041 ‚û¢ invokevirtual
‚§Æ B.foo()V
   0000 ‚û¢ aload_0
   0001 ‚û¢ getfield
   0004 ‚û¢ istore_1
   0005 ‚û¢ getstatic
   0008 ‚û¢ istore_2
   0009 ‚û¢ return
‚§Æ Main.main([Ljava/lang/String;)V
   0044 ‚û¢ iload_1
   0045 ‚û¢ i2d
   0046 ‚û¢ ldc2_w
   0049 ‚û¢ ddiv
   0050 ‚û¢ dstore
   0052 ‚û¢ newObject
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚§à GVM
  ‚§â GVM
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
   0055 ‚û¢ dup
   0056 ‚û¢ invokespecial
‚§Æ GVM.<init>()V
   0000 ‚û¢ aload_0
   0001 ‚û¢ invokespecial
‚§Æ java/lang/Object.<init>()V
   0000 ‚û¢ return
‚§Æ GVM.<init>()V
   0004 ‚û¢ return
‚§Æ Main.main([Ljava/lang/String;)V
   0059 ‚û¢ astore
   0061 ‚û¢ aload
   0063 ‚û¢ ldc
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚§à java/lang/String
    ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
    ‚§à java/lang/Comparable
    ‚§â java/lang/Comparable
    ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
    ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
    ‚§à java/lang/CharSequence
    ‚§â java/lang/CharSequence
    ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚§â java/lang/String
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚§à [C
  ‚§â [C
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
   0065 ‚û¢ invokestatic
‚§Æ java/lang/Object.<clinit>()V
   0000 ‚û¢ invokestatic
üç∫invoke native method java/lang/Object#registerNatives()V üòé

   0003 ‚û¢ return
‚§Æ Main.main([Ljava/lang/String;)V
   0065 ‚û¢ invokestatic
üç∫invoke native method GVM#toUpper(Ljava/lang/String;)Ljava/lang/String; üòé

   0068 ‚û¢ invokevirtual
üç∫invoke native method GVM#println(Ljava/lang/String;)V üòé

   0071 ‚û¢ bipush
   0073 ‚û¢ anewarray
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚§à C
  ‚§â C
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
  ‚§à [LC;
  ‚§â [LC;
  ‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß‚Äß
   0076 ‚û¢ astore
   0078 ‚û¢ return
```